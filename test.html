<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- <img id="111" src="./flappybird/imgs/bird_up.png"> -->
    <canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">
        您的浏览器不支持 HTML5 canvas 标签。</canvas>
    <script>
        birdX = 50;
        birdY = 250;
        Px = 300;
        var img1 = new Image();
        var img2 = new Image();
        var img3 = new Image();
        var img_bg = new Image();
        path2 = "./flappybird/imgs/bird_down.png"
        src3 = "./mine2.png"
        img3.src = src3;
        img_bg.src = "./flappybird/imgs/back.png"
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        function up() {
            img1.src = "./flappybird/imgs/bird_up.png";
        }
        function up_down() {
            img1.src = "./flappybird/imgs/bird_down.png";
            setTimeout("up()", 500)
        }
        function fry() {
            ctx.clearRect(birdX, birdY, 50, 30);
            ctx.drawImage(img1, birdX, birdY)
            document.onkeyup = function () {
                setInterval(function () {
                    if (birdY < 350) {
                        birdY = birdY + 20;
                        ctx.clearRect(birdX, birdY - 20, 50, 30);
                    };
                }, 600)
            }
        }
        function piaoyi(imgP) {
            ctx.clearRect(Px, birdY, 50, 30);
            if (Px < 1000) {
                Px += 100;
            }
            else {
                Px = 300;
            }
            ctx.drawImage(imgP, Px, birdY);
        }
        document.onkeydown = function () {
            var e = event || window.event || arguments.callee.caller.arguments[0];
            if (e && e.keyCode == 38) {//上
                if (birdY > 20) {
                    birdY = birdY - 20;
                    ctx.clearRect(birdX, birdY + 20, 50, 30);
                }
            }

            if (e && e.keyCode == 40) {//下
                if (birdY < 350) {
                    birdY = birdY + 20;
                    ctx.clearRect(birdX, birdY - 20, 50, 30);
                }
            }
        }
        window.onload = function () {

            ctx.drawImage(img1, birdX, birdY)
            ctx.drawImage(img_bg, 0, 0)
            setInterval("up_down()", 1000);
            // setTimeout("fry()",1200);
            setInterval("fry()", 10);
            // setInterval("piaoyi(img3)",150);
            //     document.onkeyup = function (){
            //    setInterval(function() { if (birdY < 350) {
            //             birdY = birdY +20;
            //             ctx.clearRect(birdX, birdY - 20, 50, 30);
            // };},600)
            // }
        }
    </script>
</body>

</html>